<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <title>"Rialto" - Q-SYS Formular</title>
    <link rel="icon" href="favicon.ico">
</head>

<body>
    <h2>Bitte geben Sie hier die Metadaten ein:</h2>
    <form id="qsysForm">
        <label for="text1">TextControl1:</label>
        <input type="text" id="text1" name="text1"><br><br>
        <label for="text2">TextControl2:</label>
        <input type="text" id="text2" name="text2"><br><br>
        <label for="text3">TextControl3:</label>
        <input type="text" id="text3" name="text3"><br><br>
        <label for="text4">TextControl4:</label>
        <input type="text" id="text4" name="text4"><br><br>
        <label for="text5">TextControl5:</label>
        <input type="text" id="text5" name="text5"><br><br>
        <label for="text6">TextControl6:</label>
        <input type="text" id="text6" name="text6"><br><br>
        <label for="text7">TextControl7:</label>
        <input type="text" id="text7" name="text7"><br><br>
        <button type="submit">Senden</button>
    </form>

    <script>
        document.getElementById('qsysForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const data = {
                text1: document.getElementById('text1').value,
                text2: document.getElementById('text2').value,
                text3: document.getElementById('text3').value,
                text4: document.getElementById('text4').value,
                text5: document.getElementById('text5').value,
                text6: document.getElementById('text6').value,
                text7: document.getElementById('text7').value
            };
            try {
                const res = await fetch('https://unpermeating-audie-untransitorily.ngrok-free.dev/send-text', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': 'Bearer 37yu8XmwGR0lxVoEkgrjZoXULh0_4MGLoSQd6mGFNb2vLCJyd'
                    },
                    body: JSON.stringify(data)
                });
                const json = await res.json();
                alert(`Status: ${res.status} â†’ ${JSON.stringify(json)}`);
            } catch (err) {
                alert('Fetch-Fehler: ' + (err?.message || err));
                console.error(err);
            }
        });
    </script>

</body>

</html>